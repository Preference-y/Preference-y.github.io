<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>Linux命令操作大全 | Preference-y</title><meta name="description" content="1.系统信息   命令     arch 显示机器的处理器架构(1)   uname -m 显示机器的处理器架构(2)   uname -r 显示正在使用的内核版本   dmidecode -q 显示硬件系统部件 - (SMBIOS &#x2F; DMI)   hdparm -i &#x2F;dev&#x2F;hda 罗列一个磁盘的架构特性   hdparm -tT &#x2F;dev&#x2F;sda 在磁盘上执行测试性读取操作   cat"><meta property="og:type" content="article"><meta property="og:title" content="Linux命令操作大全"><meta property="og:url" content="https://preference-y.github.io/2020/09/22/Linux%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C%E5%A4%A7%E5%85%A8/index.html"><meta property="og:site_name" content="Preference-y"><meta property="og:description" content="1.系统信息   命令     arch 显示机器的处理器架构(1)   uname -m 显示机器的处理器架构(2)   uname -r 显示正在使用的内核版本   dmidecode -q 显示硬件系统部件 - (SMBIOS &#x2F; DMI)   hdparm -i &#x2F;dev&#x2F;hda 罗列一个磁盘的架构特性   hdparm -tT &#x2F;dev&#x2F;sda 在磁盘上执行测试性读取操作   cat"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-09-22T10:19:30.000Z"><meta property="article:modified_time" content="2020-09-22T12:31:09.540Z"><meta property="article:author" content="Ning"><meta property="article:tag" content="linux"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://preference-y.github.io/2020/09/22/Linux%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C%E5%A4%A7%E5%85%A8/index.html"><link rel="alternate" href="/atom.xml" title="Preference-y" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 5.2.0"></head><body class="main-center theme-blue" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/Preference-y" target="_blank"><img class="img-circle img-rotate" src="/images/blue-white.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">Preference-y</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">😊</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Hangzhou, China</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">首页</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">归档</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">分类</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">标签</span></a></li><li class="menu-item menu-item-repository"><a href="/repository"><i class="icon icon-project"></i> <span class="menu-title">项目</span></a></li><li class="menu-item menu-item-books"><a href="/books"><i class="icon icon-book-fill"></i> <span class="menu-title">书单</span></a></li><li class="menu-item menu-item-links"><a href="/links"><i class="icon icon-friendship"></i> <span class="menu-title">友链</span></a></li><li class="menu-item menu-item-about"><a href="/about"><i class="icon icon-cup-fill"></i> <span class="menu-title">关于</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/Preference-y" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/5519590222" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top"><i class="icon icon-weibo"></i></a></li><li><a href="https://gitee.com/ningchuanbo" target="_blank" title="Gitee" data-toggle="tooltip" data-placement="top"><i class="icon icon-gitee"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">公告</h3><div class="widget-body"><div id="board"><div class="content"><p>欢迎交流与分享经验!</p></div></div></div></div><div class="widget"><h3 class="widget-title">分类</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a><span class="category-list-count">14</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签</h3><div class="widget-body"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Corn/" rel="tag">Corn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fiddler/" rel="tag">Fiddler</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OSI/" rel="tag">OSI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bug/" rel="tag">bug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/" rel="tag">sql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%93%E5%8C%85/" rel="tag">抓包</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签云</h3><div class="widget-body tagcloud"><a href="/tags/Corn/" style="font-size:13px">Corn</a> <a href="/tags/Fiddler/" style="font-size:13px">Fiddler</a> <a href="/tags/OSI/" style="font-size:13px">OSI</a> <a href="/tags/bug/" style="font-size:13px">bug</a> <a href="/tags/git/" style="font-size:13.5px">git</a> <a href="/tags/hexo/" style="font-size:14px">hexo</a> <a href="/tags/linux/" style="font-size:13px">linux</a> <a href="/tags/sql/" style="font-size:13px">sql</a> <a href="/tags/%E6%8A%93%E5%8C%85/" style="font-size:13px">抓包</a></div></div><div class="widget"><h3 class="widget-title">归档</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">2</span></li></ul></div></div><div class="widget"><h3 class="widget-title">最新文章</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></p><p class="item-title"><a href="/2020/09/24/Cron%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/" class="title">Cron表达式定时任务</a></p><p class="item-date"><time datetime="2020-09-24T11:55:48.000Z" itemprop="datePublished">2020-09-24</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></p><p class="item-title"><a href="/2020/09/24/OSI%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B-TCP-IP%E4%BA%94%E5%B1%82%E3%80%81%E5%9B%9B%E5%B1%82%E6%A8%A1%E5%9E%8B/" class="title">OSI七层模型&amp;TCP/IP五层、四层模型</a></p><p class="item-date"><time datetime="2020-09-24T07:14:08.000Z" itemprop="datePublished">2020-09-24</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></p><p class="item-title"><a href="/2020/09/23/%E8%A7%A3%E5%86%B3hexo%E6%90%AD%E5%BB%BA%E7%9A%84%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%BF%BB%E9%A1%B5%E7%AE%AD%E5%A4%B4%E6%98%BE%E7%A4%BA%E4%BB%A3%E7%A0%81bug/" class="title">解决hexo搭建的博客的翻页箭头显示代码bug</a></p><p class="item-date"><time datetime="2020-09-22T17:45:24.000Z" itemprop="datePublished">2020-09-23</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></p><p class="item-title"><a href="/2020/09/23/git%E4%B8%ADfatal-Authentication-failed%E7%9A%84%E9%97%AE%E9%A2%98/" class="title">git中fatal: Authentication failed的问题</a></p><p class="item-date"><time datetime="2020-09-22T17:02:05.000Z" itemprop="datePublished">2020-09-23</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></p><p class="item-title"><a href="/2020/09/23/Fiddler-%E5%BC%B1%E7%BD%91%E6%B5%8B%E8%AF%95/" class="title">Fiddler 弱网测试</a></p><p class="item-date"><time datetime="2020-09-22T16:48:23.000Z" itemprop="datePublished">2020-09-23</time></p></div></li></ul></div></div></div></aside><main class="main" role="main"><div class="content"><article id="post-Linux命令操作大全" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">Linux命令操作大全</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2020/09/22/Linux%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C%E5%A4%A7%E5%85%A8/" class="article-date"><time datetime="2020-09-22T10:19:30.000Z" itemprop="datePublished">2020-09-22</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/linux/" rel="tag">linux</a> </span><span class="article-read hidden-xs"><i class="icon icon-eye-fill" aria-hidden="true"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span> </span></span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/2020/09/22/Linux%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C%E5%A4%A7%E5%85%A8/#comments" class="article-comment-link">评论</a></span> <span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 5.1k(字)</span> <span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 21(分)</span></div></div><div class="article-entry marked-body" itemprop="articleBody"><p><a name="UMAS8"></a></p><h3 id="1-系统信息"><a href="#1-系统信息" class="headerlink" title="1.系统信息"></a>1.系统信息</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">arch</td><td align="left">显示机器的处理器架构(1)</td></tr><tr><td align="left">uname -m</td><td align="left">显示机器的处理器架构(2)</td></tr><tr><td align="left">uname -r</td><td align="left">显示正在使用的内核版本</td></tr><tr><td align="left">dmidecode -q</td><td align="left">显示硬件系统部件 - (SMBIOS / DMI)</td></tr><tr><td align="left">hdparm -i /dev/hda</td><td align="left">罗列一个磁盘的架构特性</td></tr><tr><td align="left">hdparm -tT /dev/sda</td><td align="left">在磁盘上执行测试性读取操作</td></tr><tr><td align="left">cat /proc/cpuinfo</td><td align="left">显示CPU info的信息</td></tr><tr><td align="left">cat /proc/interrupts</td><td align="left">显示中断</td></tr><tr><td align="left">cat /proc/meminfo</td><td align="left">校验内存使用</td></tr><tr><td align="left">cat /proc/swaps</td><td align="left">显示哪些swap被使用</td></tr><tr><td align="left">cat /proc/version</td><td align="left">显示内核的版本</td></tr><tr><td align="left">cat /proc/net/dev</td><td align="left">显示网络适配器及统计</td></tr><tr><td align="left">cat /proc/mounts</td><td align="left">显示已加载的文件系统</td></tr><tr><td align="left">lspci -tv</td><td align="left">罗列 PCI 设备</td></tr><tr><td align="left">lsusb -tv</td><td align="left">显示 USB 设备</td></tr><tr><td align="left">date</td><td align="left">显示系统日期</td></tr><tr><td align="left">cal 2007</td><td align="left">显示2007年的日历表</td></tr><tr><td align="left">date 041217002007.00</td><td align="left">设置日期和时间 - 月日时分年.秒</td></tr><tr><td align="left">clock -w</td><td align="left">将时间修改保存到 BIOS</td></tr></tbody></table><p><a name="oHuaS"></a></p><h3 id="2-关机-系统的关机、重启以及登出"><a href="#2-关机-系统的关机、重启以及登出" class="headerlink" title="2.关机 (系统的关机、重启以及登出 )"></a>2.关机 (系统的关机、重启以及登出 )</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">shutdown -h now</td><td align="left">关闭系统(1)</td></tr><tr><td align="left">init 0</td><td align="left">关闭系统(2)</td></tr><tr><td align="left">telinit 0</td><td align="left">关闭系统(3)</td></tr><tr><td align="left">shutdown -h hours:minutes &amp;</td><td align="left">按预定时间关闭系统</td></tr><tr><td align="left">shutdown -c</td><td align="left">取消按预定时间关闭系统</td></tr><tr><td align="left">shutdown -r now</td><td align="left">重启(1)</td></tr><tr><td align="left">reboot</td><td align="left">重启(2)</td></tr><tr><td align="left">logout</td><td align="left">注销</td></tr></tbody></table><p><a name="nGv9L"></a></p><h3 id="3-文件和目录"><a href="#3-文件和目录" class="headerlink" title="3.文件和目录"></a>3.文件和目录</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">cd /home</td><td align="left">进入 ‘/ home’ 目录’</td></tr><tr><td align="left">cd ..</td><td align="left">返回上一级目录</td></tr><tr><td align="left">cd ../..</td><td align="left">返回上两级目录</td></tr><tr><td align="left">cd</td><td align="left">进入个人的主目录</td></tr><tr><td align="left">cd ~user1</td><td align="left">进入个人的主目录</td></tr><tr><td align="left">cd -</td><td align="left">返回上次所在的目录</td></tr><tr><td align="left">pwd</td><td align="left">显示工作路径</td></tr><tr><td align="left">ls</td><td align="left">查看目录中的文件</td></tr><tr><td align="left">ls -F</td><td align="left">查看目录中的文件</td></tr><tr><td align="left">ls -l</td><td align="left">显示文件和目录的详细资料</td></tr><tr><td align="left">ls -a</td><td align="left">显示隐藏文件</td></tr><tr><td align="left">ls [0-9]</td><td align="left">显示包含数字的文件名和目录名</td></tr><tr><td align="left">tree</td><td align="left">显示文件和目录由根目录开始的树形结构(1)</td></tr><tr><td align="left">lstree</td><td align="left">显示文件和目录由根目录开始的树形结构(2)</td></tr><tr><td align="left">mkdir dir1</td><td align="left">创建一个叫做 ‘dir1’ 的目录’</td></tr><tr><td align="left">mkdir dir1 dir2</td><td align="left">同时创建两个目录</td></tr><tr><td align="left">mkdir -p /tmp/dir1/dir2</td><td align="left">创建一个目录树</td></tr><tr><td align="left">rm -f file1</td><td align="left">删除一个叫做 ‘file1’ 的文件</td></tr><tr><td align="left">rmdir dir1</td><td align="left">删除一个叫做 ‘dir1’ 的目录’</td></tr><tr><td align="left">rm -rf dir1</td><td align="left">删除一个叫做 ‘dir1’ 的目录并同时删除其内容</td></tr><tr><td align="left">rm -rf dir1 dir2</td><td align="left">同时删除两个目录及它们的内容</td></tr><tr><td align="left">mv dir1 new_dir</td><td align="left">重命名/移动 一个目录</td></tr><tr><td align="left">cp file1 file2</td><td align="left">复制一个文件</td></tr><tr><td align="left">cp dir/* .</td><td align="left">复制一个目录下的所有文件到当前工作目录</td></tr><tr><td align="left">cp -a /tmp/dir1 .</td><td align="left">复制一个目录到当前工作目录</td></tr><tr><td align="left">cp -a dir1 dir2</td><td align="left">复制一个目录</td></tr><tr><td align="left">ln -s file1 lnk1</td><td align="left">创建一个指向文件或目录的软链接</td></tr><tr><td align="left">ln file1 lnk1</td><td align="left">创建一个指向文件或目录的物理链接</td></tr><tr><td align="left">touch -t 0712250000 file1</td><td align="left">修改一个文件或目录的时间戳 - (YYMMDDhhmm)</td></tr><tr><td align="left">iconv -l</td><td align="left">列出已知的编码</td></tr></tbody></table><p><a name="nsGFP"></a></p><h3 id="4-文件搜索"><a href="#4-文件搜索" class="headerlink" title="4.文件搜索"></a>4.文件搜索</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">find / -name file1</td><td align="left">从 ‘/‘ 开始进入根文件系统搜索文件和目录</td></tr><tr><td align="left">find / -user user1</td><td align="left">搜索属于用户 ‘user1’ 的文件和目录</td></tr><tr><td align="left">find /home/user1 -name \*.bin</td><td align="left">在目录 ‘/ home/user1’ 中搜索带有’.bin’ 结尾的文件</td></tr><tr><td align="left">find /usr/bin -type f -atime +100</td><td align="left">搜索在过去100天内未被使用过的执行文件</td></tr><tr><td align="left">find /usr/bin -type f -mtime -10</td><td align="left">搜索在10天内被创建或者修改过的文件</td></tr><tr><td align="left">find / -name \*.rpm -exec chmod 755 ‘{}’ \;</td><td align="left">搜索以 ‘.rpm’ 结尾的文件并定义其权限</td></tr><tr><td align="left">find / -xdev -name *.rpm</td><td align="left">搜索以 ‘.rpm’ 结尾的文件，忽略光驱、捷盘等可移动设备</td></tr><tr><td align="left">locate *.ps</td><td align="left">寻找以 ‘.ps’ 结尾的文件 - 先运行 ‘updatedb’ 命令</td></tr><tr><td align="left">whereis halt</td><td align="left">显示一个二进制文件、源码或man的位置</td></tr><tr><td align="left">which halt</td><td align="left">显示一个二进制文件或可执行文件的完整路径</td></tr></tbody></table><p><a name="8vgWs"></a></p><h3 id="5-挂载一个文件系统"><a href="#5-挂载一个文件系统" class="headerlink" title="5.挂载一个文件系统"></a>5.挂载一个文件系统</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">mount /dev/hda2 /mnt/hda2</td><td align="left">挂载一个叫做hda2的盘 - 确定目录 ‘/ mnt/hda2’ 已经存在</td></tr><tr><td align="left">umount /dev/hda2</td><td align="left">卸载一个叫做hda2的盘 - 先从挂载点 ‘/ mnt/hda2’ 退出</td></tr><tr><td align="left">fuser -km /mnt/hda2</td><td align="left">当设备繁忙时强制卸载</td></tr><tr><td align="left">umount -n /mnt/hda2</td><td align="left">运行卸载操作而不写入 /etc/mtab 文件- 当文件为只读或当磁盘写满时非常有用</td></tr><tr><td align="left">mount /dev/fd0 /mnt/floppy</td><td align="left">挂载一个软盘</td></tr><tr><td align="left">mount /dev/cdrom /mnt/cdrom</td><td align="left">挂载一个cdrom或dvdrom</td></tr><tr><td align="left">mount /dev/hdc /mnt/cdrecorder</td><td align="left">挂载一个cdrw或dvdrom</td></tr><tr><td align="left">mount /dev/hdb /mnt/cdrecorder</td><td align="left">挂载一个cdrw或dvdrom</td></tr><tr><td align="left">mount -o loop file.iso /mnt/cdrom</td><td align="left">挂载一个文件或ISO镜像文件</td></tr><tr><td align="left">mount -t vfat /dev/hda5 /mnt/hda5</td><td align="left">挂载一个Windows FAT32文件系统</td></tr><tr><td align="left">mount /dev/sda1 /mnt/usbdisk</td><td align="left">挂载一个usb 捷盘或闪存设备</td></tr><tr><td align="left">mount -t smbfs -o username=user,password=pass //WinClient/share /mnt/share</td><td align="left">挂载一个windows网络共享</td></tr></tbody></table><p><a name="1BsXL"></a></p><h3 id="6-磁盘空间"><a href="#6-磁盘空间" class="headerlink" title="6.磁盘空间"></a>6.磁盘空间</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">df -h</td><td align="left">显示已经挂载的分区列表</td></tr><tr><td align="left">ls -lSr &#124;more</td><td align="left">以尺寸大小排列文件和目录</td></tr><tr><td align="left">du -sh dir1</td><td align="left">估算目录 ‘dir1’ 已经使用的磁盘空间’</td></tr><tr><td align="left">du -sk * &#124; sort -rn</td><td align="left">以容量大小为依据依次显示文件和目录的大小</td></tr><tr><td align="left">rpm -q -a –qf ‘%10{SIZE}t%{NAME}n’</td><td align="left">sort -k1,1n</td></tr><tr><td align="left">dpkg-query -W -f=’installed-size;10t{Package}n’</td><td align="left">sort -k1,1n</td></tr></tbody></table><p><a name="iCI16"></a></p><h3 id="7-用户和群组"><a href="#7-用户和群组" class="headerlink" title="7.用户和群组"></a>7.用户和群组</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">groupadd group_name</td><td align="left">创建一个新用户组</td></tr><tr><td align="left">groupdel group_name</td><td align="left">删除一个用户组</td></tr><tr><td align="left">groupmod -n new_group_name old_group_name</td><td align="left">重命名一个用户组</td></tr><tr><td align="left">useradd -c “Name Surname “ -g admin -d /home/user1 -s /bin/bash user1</td><td align="left">创建一个属于 “admin” 用户组的用户</td></tr><tr><td align="left">useradd user1</td><td align="left">创建一个新用户</td></tr><tr><td align="left">userdel -r user1</td><td align="left">删除一个用户 ( ‘-r’ 排除主目录)</td></tr><tr><td align="left">usermod -c “User FTP” -g system -d /ftp/user1 -s /bin/nologin user1</td><td align="left">修改用户属性</td></tr><tr><td align="left">passwd</td><td align="left">修改口令</td></tr><tr><td align="left">passwd user1</td><td align="left">修改一个用户的口令 (只允许root执行)</td></tr><tr><td align="left">chage -E 2005-12-31 user1</td><td align="left">设置用户口令的失效期限</td></tr><tr><td align="left">pwck</td><td align="left">检查 ‘/etc/passwd’ 的文件格式和语法修正以及存在的用户</td></tr><tr><td align="left">grpck</td><td align="left">检查 ‘/etc/passwd’ 的文件格式和语法修正以及存在的群组</td></tr><tr><td align="left">newgrp group_name</td><td align="left">登陆进一个新的群组以改变新创建文件的预设群组</td></tr></tbody></table><p><a name="XHXHx"></a></p><h3 id="9-文件的权限-使用-“-”-设置权限，使用-“-“-用于取消"><a href="#9-文件的权限-使用-“-”-设置权限，使用-“-“-用于取消" class="headerlink" title="9.文件的权限 - 使用 “+” 设置权限，使用 “-“ 用于取消"></a>9.文件的权限 - 使用 “+” 设置权限，使用 “-“ 用于取消</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">ls -lh</td><td align="left">显示权限</td></tr><tr><td align="left">ls /tmp &#124; pr -T5 -W$COLUMNS</td><td align="left">将终端划分成5栏显示</td></tr><tr><td align="left">chmod ugo+rwx directory1</td><td align="left">设置目录的所有人(u)、群组(g)以及其他人(o)以读（r ）、写(w)和执行(x)的权限</td></tr><tr><td align="left">chmod go-rwx directory1</td><td align="left">删除群组(g)与其他人(o)对目录的读写执行权限</td></tr><tr><td align="left">chown user1 file1</td><td align="left">改变一个文件的所有人属性</td></tr><tr><td align="left">chown -R user1 directory1</td><td align="left">改变一个目录的所有人属性并同时改变改目录下所有文件的属性</td></tr><tr><td align="left">chgrp group1 file1</td><td align="left">改变文件的群组</td></tr><tr><td align="left">chown user1:group1 file1</td><td align="left">改变一个文件的所有人和群组属性</td></tr><tr><td align="left">find / -perm -u+s</td><td align="left">罗列一个系统中所有使用了SUID控制的文件</td></tr><tr><td align="left">chmod u+s /bin/file1</td><td align="left">设置一个二进制文件的 SUID 位 - 运行该文件的用户也被赋予和所有者同样的权限</td></tr><tr><td align="left">chmod u-s /bin/file1</td><td align="left">禁用一个二进制文件的 SUID位</td></tr><tr><td align="left">chmod g+s /home/public</td><td align="left">设置一个目录的SGID 位 - 类似SUID ，不过这是针对目录的</td></tr><tr><td align="left">chmod g-s /home/public</td><td align="left">禁用一个目录的 SGID 位</td></tr><tr><td align="left">chmod o+t /home/public</td><td align="left">设置一个文件的 STIKY 位 - 只允许合法所有人删除文件</td></tr><tr><td align="left">chmod o-t /home/public</td><td align="left">禁用一个目录的 STIKY 位</td></tr></tbody></table><p><a name="XIkLN"></a></p><h3 id="10-文件的特殊属性-使用-“-”-设置权限，使用-“-“-用于取消"><a href="#10-文件的特殊属性-使用-“-”-设置权限，使用-“-“-用于取消" class="headerlink" title="10.文件的特殊属性 - 使用 “+” 设置权限，使用 “-“ 用于取消"></a>10.文件的特殊属性 - 使用 “+” 设置权限，使用 “-“ 用于取消</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">chattr +a file1</td><td align="left">只允许以追加方式读写文件</td></tr><tr><td align="left">chattr +c file1</td><td align="left">允许这个文件能被内核自动压缩/解压</td></tr><tr><td align="left">chattr +d file1</td><td align="left">在进行文件系统备份时，dump程序将忽略这个文件</td></tr><tr><td align="left">chattr +i file1</td><td align="left">设置成不可变的文件，不能被删除、修改、重命名或者链接</td></tr><tr><td align="left">chattr +s file1</td><td align="left">允许一个文件被安全地删除</td></tr><tr><td align="left">chattr +S file1</td><td align="left">一旦应用程序对这个文件执行了写操作，使系统立刻把修改的结果写到磁盘</td></tr><tr><td align="left">chattr +u file1</td><td align="left">若文件被删除，系统会允许你在以后恢复这个被删除的文件</td></tr><tr><td align="left">lsattr</td><td align="left">显示特殊的属性</td></tr></tbody></table><p><a name="jGx9e"></a></p><h3 id="11-打包和压缩文件"><a href="#11-打包和压缩文件" class="headerlink" title="11.打包和压缩文件"></a>11.打包和压缩文件</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">bunzip2 file1.bz2</td><td align="left">解压一个叫做 ‘file1.bz2’的文件</td></tr><tr><td align="left">bzip2 file1</td><td align="left">压缩一个叫做 ‘file1’ 的文件</td></tr><tr><td align="left">gunzip file1.gz</td><td align="left">解压一个叫做 ‘file1.gz’的文件</td></tr><tr><td align="left">gzip file1</td><td align="left">压缩一个叫做 ‘file1’的文件</td></tr><tr><td align="left">gzip -9 file1</td><td align="left">最大程度压缩</td></tr><tr><td align="left">rar a file1.rar test_file</td><td align="left">创建一个叫做 ‘file1.rar’ 的包</td></tr><tr><td align="left">rar a file1.rar file1 file2 dir1</td><td align="left">同时压缩 ‘file1’, ‘file2’ 以及目录 ‘dir1’</td></tr><tr><td align="left">rar x file1.rar</td><td align="left">解压rar包</td></tr><tr><td align="left">unrar x file1.rar</td><td align="left">解压rar包</td></tr><tr><td align="left">tar -cvf archive.tar file1</td><td align="left">创建一个非压缩的 tarball</td></tr><tr><td align="left">tar -cvf archive.tar file1 file2 dir1</td><td align="left">创建一个包含了 ‘file1’, ‘file2’ 以及 ‘dir1’的档案文件</td></tr><tr><td align="left">tar -tf archive.tar</td><td align="left">显示一个包中的内容</td></tr><tr><td align="left">tar -xvf archive.tar</td><td align="left">释放一个包</td></tr><tr><td align="left">tar -xvf archive.tar -C /tmp</td><td align="left">将压缩包释放到 /tmp目录下</td></tr><tr><td align="left">tar -cvfj archive.tar.bz2 dir1</td><td align="left">创建一个bzip2格式的压缩包</td></tr><tr><td align="left">tar -xvfj archive.tar.bz2</td><td align="left">解压一个bzip2格式的压缩包</td></tr><tr><td align="left">tar -cvfz archive.tar.gz dir1</td><td align="left">创建一个gzip格式的压缩包</td></tr><tr><td align="left">tar -xvfz archive.tar.gz</td><td align="left">解压一个gzip格式的压缩包</td></tr><tr><td align="left">zip file1.zip file1</td><td align="left">创建一个zip格式的压缩包</td></tr><tr><td align="left">zip -r file1.zip file1 file2 dir1</td><td align="left">将几个文件和目录同时压缩成一个zip格式的压缩包</td></tr><tr><td align="left">unzip file1.zip</td><td align="left">解压一个zip格式压缩包</td></tr></tbody></table><p><a name="X96C2"></a></p><h3 id="12-RPM-包-（Fedora-Redhat及类似系统）"><a href="#12-RPM-包-（Fedora-Redhat及类似系统）" class="headerlink" title="12.RPM 包 - （Fedora, Redhat及类似系统）"></a>12.RPM 包 - （Fedora, Redhat及类似系统）</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">rpm -ivh package.rpm</td><td align="left">安装一个rpm包</td></tr><tr><td align="left">rpm -ivh –nodeeps package.rpm</td><td align="left">安装一个rpm包而忽略依赖关系警告</td></tr><tr><td align="left">rpm -U package.rpm</td><td align="left">更新一个rpm包但不改变其配置文件</td></tr><tr><td align="left">rpm -F package.rpm</td><td align="left">更新一个确定已经安装的rpm包</td></tr><tr><td align="left">rpm -e package_name.rpm</td><td align="left">删除一个rpm包</td></tr><tr><td align="left">rpm -qa</td><td align="left">显示系统中所有已经安装的rpm包</td></tr><tr><td align="left">rpm -qa</td><td align="left">grep httpd</td></tr><tr><td align="left">rpm -qi package_name</td><td align="left">获取一个已安装包的特殊信息</td></tr><tr><td align="left">rpm -qg “System Environment/Daemons”</td><td align="left">显示一个组件的rpm包</td></tr><tr><td align="left">rpm -ql package_name</td><td align="left">显示一个已经安装的rpm包提供的文件列表</td></tr><tr><td align="left">rpm -qc package_name</td><td align="left">显示一个已经安装的rpm包提供的配置文件列表</td></tr><tr><td align="left">rpm -q package_name –whatrequires</td><td align="left">显示与一个rpm包存在依赖关系的列表</td></tr><tr><td align="left">rpm -q package_name –whatprovides</td><td align="left">显示一个rpm包所占的体积</td></tr><tr><td align="left">rpm -q package_name –scripts</td><td align="left">显示在安装/删除期间所执行的脚本l</td></tr><tr><td align="left">rpm -q package_name –changelog</td><td align="left">显示一个rpm包的修改历史</td></tr><tr><td align="left">rpm -qf /etc/httpd/conf/httpd.conf</td><td align="left">确认所给的文件由哪个rpm包所提供</td></tr><tr><td align="left">rpm -qp package.rpm -l</td><td align="left">显示由一个尚未安装的rpm包提供的文件列表</td></tr><tr><td align="left">rpm –import /media/cdrom/RPM-GPG-KEY</td><td align="left">导入公钥数字证书</td></tr><tr><td align="left">rpm –checksig package.rpm</td><td align="left">确认一个rpm包的完整性</td></tr><tr><td align="left">rpm -qa gpg-pubkey</td><td align="left">确认已安装的所有rpm包的完整性</td></tr><tr><td align="left">rpm -V package_name</td><td align="left">检查文件尺寸、 许可、类型、所有者、群组、MD5检查以及最后修改时间</td></tr><tr><td align="left">rpm -Va</td><td align="left">检查系统中所有已安装的rpm包- 小心使用</td></tr><tr><td align="left">rpm -Vp package.rpm</td><td align="left">确认一个rpm包还未安装</td></tr><tr><td align="left">rpm2cpio package.rpm</td><td align="left">cpio –extract –make-directories bin</td></tr><tr><td align="left">rpm -ivh /usr/src/redhat/RPMS/arch/package.rpm</td><td align="left">从一个rpm源码安装一个构建好的包</td></tr><tr><td align="left">rpmbuild –rebuild package_name.src.rpm</td><td align="left">从一个rpm源码构建一个 rpm 包</td></tr></tbody></table><p><a name="qqGzk"></a></p><h3 id="13-YUM-软件包升级器-（Fedora-RedHat及类似系统）"><a href="#13-YUM-软件包升级器-（Fedora-RedHat及类似系统）" class="headerlink" title="13.YUM 软件包升级器 - （Fedora, RedHat及类似系统）"></a>13.YUM 软件包升级器 - （Fedora, RedHat及类似系统）</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">yum install package_name</td><td align="left">下载并安装一个rpm包</td></tr><tr><td align="left">yum localinstall package_name.rpm</td><td align="left">将安装一个rpm包，使用你自己的软件仓库为你解决所有依赖关系</td></tr><tr><td align="left">yum update package_name.rpm</td><td align="left">更新当前系统中所有安装的rpm包</td></tr><tr><td align="left">yum update package_name</td><td align="left">更新一个rpm包</td></tr><tr><td align="left">yum remove package_name</td><td align="left">删除一个rpm包</td></tr><tr><td align="left">yum list</td><td align="left">列出当前系统中安装的所有包</td></tr><tr><td align="left">yum search package_name</td><td align="left">在rpm仓库中搜寻软件包</td></tr><tr><td align="left">yum clean packages</td><td align="left">清理rpm缓存删除下载的包</td></tr><tr><td align="left">yum clean headers</td><td align="left">删除所有头文件</td></tr><tr><td align="left">yum clean all</td><td align="left">删除所有缓存的包和头文件</td></tr></tbody></table><p><a name="PpGLT"></a></p><h3 id="14-DEB-包-Debian-Ubuntu-以及类似系统"><a href="#14-DEB-包-Debian-Ubuntu-以及类似系统" class="headerlink" title="14.DEB 包 (Debian, Ubuntu 以及类似系统)"></a>14.DEB 包 (Debian, Ubuntu 以及类似系统)</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">dpkg -i package.deb</td><td align="left">安装/更新一个 deb 包</td></tr><tr><td align="left">dpkg -r package_name</td><td align="left">从系统删除一个 deb 包</td></tr><tr><td align="left">dpkg -l</td><td align="left">显示系统中所有已经安装的 deb 包</td></tr><tr><td align="left">dpkg -l</td><td align="left">grep httpd</td></tr><tr><td align="left">dpkg -s package_name</td><td align="left">获得已经安装在系统中一个特殊包的信息</td></tr><tr><td align="left">dpkg -L package_name</td><td align="left">显示系统中已经安装的一个deb包所提供的文件列表</td></tr><tr><td align="left">dpkg –contents package.deb</td><td align="left">显示尚未安装的一个包所提供的文件列表</td></tr><tr><td align="left">dpkg -S /bin/ping</td><td align="left">确认所给的文件由哪个deb包提供</td></tr></tbody></table><p><a name="clMyW"></a></p><h3 id="15-APT-软件工具-Debian-Ubuntu-以及类似系统"><a href="#15-APT-软件工具-Debian-Ubuntu-以及类似系统" class="headerlink" title="15.APT 软件工具 (Debian, Ubuntu 以及类似系统)"></a>15.APT 软件工具 (Debian, Ubuntu 以及类似系统)</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">apt-get install package_name</td><td align="left">安装/更新一个 deb 包</td></tr><tr><td align="left">apt-cdrom install package_name</td><td align="left">从光盘安装/更新一个 deb 包</td></tr><tr><td align="left">apt-get update</td><td align="left">升级列表中的软件包</td></tr><tr><td align="left">apt-get upgrade</td><td align="left">升级所有已安装的软件</td></tr><tr><td align="left">apt-get remove package_name</td><td align="left">从系统删除一个deb包</td></tr><tr><td align="left">apt-get check</td><td align="left">确认依赖的软件仓库正确</td></tr><tr><td align="left">apt-get clean</td><td align="left">从下载的软件包中清理缓存</td></tr><tr><td align="left">apt-cache search searched-package</td><td align="left">返回包含所要搜索字符串的软件包名称</td></tr></tbody></table><p><a name="CnXxZ"></a></p><h3 id="16-查看文件内容"><a href="#16-查看文件内容" class="headerlink" title="16.查看文件内容"></a>16.查看文件内容</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">cat file1</td><td align="left">从第一个字节开始正向查看文件的内容</td></tr><tr><td align="left">tac file1</td><td align="left">从最后一行开始反向查看一个文件的内容</td></tr><tr><td align="left">more file1</td><td align="left">查看一个长文件的内容</td></tr><tr><td align="left">less file1</td><td align="left">类似于 ‘more’ 命令，但是它允许在文件中和正向操作一样的反向操作</td></tr><tr><td align="left">head -2 file1</td><td align="left">查看一个文件的前两行</td></tr><tr><td align="left">tail -2 file1</td><td align="left">查看一个文件的最后两行</td></tr><tr><td align="left">tail -f /var/log/messages</td><td align="left">实时查看被添加到一个文件中的内容</td></tr></tbody></table><p><a name="SZkWh"></a></p><h3 id="17-文本处理"><a href="#17-文本处理" class="headerlink" title="17.文本处理"></a>17.文本处理</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">cat file1 file2 …</td><td align="left">command &lt;&gt; file1_in.txt_or_file1_out.txt</td></tr><tr><td align="left">cat file1</td><td align="left">command( sed, grep, awk, grep, etc…) &gt; result.txt</td></tr><tr><td align="left">cat file1</td><td align="left">command( sed, grep, awk, grep, etc…) &gt;&gt; result.txt</td></tr><tr><td align="left">grep Aug /var/log/messages</td><td align="left">在文件 ‘/var/log/messages’中查找关键词”Aug”</td></tr><tr><td align="left">grep ^Aug /var/log/messages</td><td align="left">在文件 ‘/var/log/messages’中查找以”Aug”开始的词汇</td></tr><tr><td align="left">grep [0-9] /var/log/messages</td><td align="left">选择 ‘/var/log/messages’ 文件中所有包含数字的行</td></tr><tr><td align="left">grep Aug -R /var/log/*</td><td align="left">在目录 ‘/var/log’ 及随后的目录中搜索字符串”Aug”</td></tr><tr><td align="left">sed ‘s/stringa1/stringa2/g’ example.txt</td><td align="left">将example.txt文件中的 “string1” 替换成 “string2”</td></tr><tr><td align="left">sed ‘/^$/d’ example.txt</td><td align="left">从example.txt文件中删除所有空白行</td></tr><tr><td align="left">sed ‘/ *#/d; /^$/d’ example.txt</td><td align="left">从example.txt文件中删除所有注释和空白行</td></tr><tr><td align="left">echo ‘esempio’</td><td align="left">tr ‘[:lower:]’ ‘[:upper:]’</td></tr><tr><td align="left">sed -e ‘1d’ result.txt</td><td align="left">从文件example.txt 中排除第一行</td></tr><tr><td align="left">sed -n ‘/stringa1/p’</td><td align="left">查看只包含词汇 “string1”的行</td></tr><tr><td align="left">sed -e ‘s/ *$//‘ example.txt</td><td align="left">删除每一行最后的空白字符</td></tr><tr><td align="left">sed -e ‘s/stringa1//g’ example.txt</td><td align="left">从文档中只删除词汇 “string1” 并保留剩余全部</td></tr><tr><td align="left">sed -n ‘1,5p;5q’ example.txt</td><td align="left">查看从第一行到第5行内容</td></tr><tr><td align="left">sed -n ‘5p;5q’ example.txt</td><td align="left">查看第5行</td></tr><tr><td align="left">sed -e ‘s/00*/0/g’ example.txt</td><td align="left">用单个零替换多个零</td></tr><tr><td align="left">cat -n file1</td><td align="left">标示文件的行数</td></tr><tr><td align="left">cat example.txt</td><td align="left">awk ‘NR%2==1’</td></tr><tr><td align="left">echo a b c</td><td align="left">awk ‘{print $1}’</td></tr><tr><td align="left">echo a b c</td><td align="left">awk ‘{print $1,$3}’</td></tr><tr><td align="left">paste file1 file2</td><td align="left">合并两个文件或两栏的内容</td></tr><tr><td align="left">paste -d ‘+’ file1 file2</td><td align="left">合并两个文件或两栏的内容，中间用”+”区分</td></tr><tr><td align="left">sort file1 file2</td><td align="left">排序两个文件的内容</td></tr><tr><td align="left">sort file1 file2 &#124; uniq</td><td align="left">取出两个文件的并集(重复的行只保留一份)</td></tr><tr><td align="left">sort file1 file2 &#124; uniq -u</td><td align="left">删除交集，留下其他的行</td></tr><tr><td align="left">sort file1 file2 &#124; uniq -d</td><td align="left">取出两个文件的交集(只留下同时存在于两个文件中的文件)</td></tr><tr><td align="left">comm -1 file1 file2</td><td align="left">比较两个文件的内容只删除 ‘file1’ 所包含的内容</td></tr><tr><td align="left">comm -2 file1 file2</td><td align="left">比较两个文件的内容只删除 ‘file2’ 所包含的内容</td></tr><tr><td align="left">comm -3 file1 file2</td><td align="left">比较两个文件的内容只删除两个文件共有的部分</td></tr></tbody></table><p><a name="UzQXq"></a></p><h3 id="18-字符设置和文件格式转换"><a href="#18-字符设置和文件格式转换" class="headerlink" title="18.字符设置和文件格式转换"></a>18.字符设置和文件格式转换</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">dos2unix filedos.txt fileunix.txt</td><td align="left">将一个文本文件的格式从MSDOS转换成UNIX</td></tr><tr><td align="left">unix2dos fileunix.txt filedos.txt</td><td align="left">将一个文本文件的格式从UNIX转换成MSDOS</td></tr><tr><td align="left">recode ..HTML &lt; page.txt &gt; page.html</td><td align="left">将一个文本文件转换成html</td></tr><tr><td align="left">recode -l &#124; more</td><td align="left">显示所有允许的转换格式</td></tr></tbody></table><p><a name="JlyWQ"></a></p><h3 id="19-文件系统分析"><a href="#19-文件系统分析" class="headerlink" title="19.文件系统分析"></a>19.文件系统分析</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">badblocks -v /dev/hda1</td><td align="left">检查磁盘hda1上的坏磁块</td></tr><tr><td align="left">fsck /dev/hda1</td><td align="left">修复/检查hda1磁盘上linux文件系统的完整性</td></tr><tr><td align="left">fsck.ext2 /dev/hda1</td><td align="left">修复/检查hda1磁盘上ext2文件系统的完整性</td></tr><tr><td align="left">e2fsck /dev/hda1</td><td align="left">修复/检查hda1磁盘上ext2文件系统的完整性</td></tr><tr><td align="left">e2fsck -j /dev/hda1</td><td align="left">修复/检查hda1磁盘上ext3文件系统的完整性</td></tr><tr><td align="left">fsck.ext3 /dev/hda1</td><td align="left">修复/检查hda1磁盘上ext3文件系统的完整性</td></tr><tr><td align="left">fsck.vfat /dev/hda1</td><td align="left">修复/检查hda1磁盘上fat文件系统的完整性</td></tr><tr><td align="left">fsck.msdos /dev/hda1</td><td align="left">修复/检查hda1磁盘上dos文件系统的完整性</td></tr><tr><td align="left">dosfsck /dev/hda1</td><td align="left">修复/检查hda1磁盘上dos文件系统的完整性</td></tr></tbody></table><p><a name="KFdFu"></a></p><h3 id="20-初始化一个文件系统"><a href="#20-初始化一个文件系统" class="headerlink" title="20.初始化一个文件系统"></a>20.初始化一个文件系统</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">mkfs /dev/hda1</td><td align="left">在hda1分区创建一个文件系统</td></tr><tr><td align="left">mke2fs /dev/hda1</td><td align="left">在hda1分区创建一个linux ext2的文件系统</td></tr><tr><td align="left">mke2fs -j /dev/hda1</td><td align="left">在hda1分区创建一个linux ext3(日志型)的文件系统</td></tr><tr><td align="left">mkfs -t vfat 32 -F /dev/hda1</td><td align="left">创建一个 FAT32 文件系统</td></tr><tr><td align="left">fdformat -n /dev/fd0</td><td align="left">格式化一个软盘</td></tr><tr><td align="left">mkswap /dev/hda3</td><td align="left">创建一个swap文件系统</td></tr></tbody></table><p><a name="AtccC"></a></p><h3 id="21-SWAP文件系统"><a href="#21-SWAP文件系统" class="headerlink" title="21.SWAP文件系统"></a>21.SWAP文件系统</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">mkswap /dev/hda3</td><td align="left">创建一个swap文件系统</td></tr><tr><td align="left">swapon /dev/hda3</td><td align="left">启用一个新的swap文件系统</td></tr><tr><td align="left">swapon /dev/hda2 /dev/hdb3</td><td align="left">启用两个swap分区</td></tr></tbody></table><p><a name="lDuGm"></a></p><h3 id="22-备份"><a href="#22-备份" class="headerlink" title="22.备份"></a>22.备份</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">dump -0aj -f /tmp/home0.bak /home</td><td align="left">制作一个 ‘/home’ 目录的完整备份</td></tr><tr><td align="left">dump -1aj -f /tmp/home0.bak /home</td><td align="left">制作一个 ‘/home’ 目录的交互式备份</td></tr><tr><td align="left">restore -if /tmp/home0.bak</td><td align="left">还原一个交互式备份</td></tr><tr><td align="left">rsync -rogpav –delete /home /tmp</td><td align="left">同步两边的目录</td></tr><tr><td align="left">rsync -rogpav -e ssh –delete /home ip_address:/tmp</td><td align="left">通过SSH通道rsync</td></tr><tr><td align="left">rsync -az -e ssh –delete ip_addr:/home/public /home/local</td><td align="left">通过ssh和压缩将一个远程目录同步到本地目录</td></tr><tr><td align="left">rsync -az -e ssh –delete /home/local ip_addr:/home/public</td><td align="left">通过ssh和压缩将本地目录同步到远程目录</td></tr><tr><td align="left">dd bs=1M if=/dev/hda</td><td align="left">gzip</td></tr><tr><td align="left">dd if=/dev/sda of=/tmp/file1</td><td align="left">备份磁盘内容到一个文件</td></tr><tr><td align="left">tar -Puf backup.tar /home/user</td><td align="left">执行一次对 ‘/home/user’ 目录的交互式备份操作</td></tr><tr><td align="left">( cd /tmp/local/ &amp;&amp; tar c . )</td><td align="left">ssh -C user@ip_addr ‘cd /home/share/ &amp;&amp; tar x -p’</td></tr><tr><td align="left">( tar c /home )</td><td align="left">ssh -C user@ip_addr ‘cd /home/backup-home &amp;&amp; tar x -p’</td></tr><tr><td align="left">tar cf - .</td><td align="left">(cd /tmp/backup ; tar xf - )</td></tr><tr><td align="left">find /home/user1 -name ‘*.txt’</td><td align="left">xargs cp -av –target-directory=/home/backup/ –parents</td></tr><tr><td align="left">find /var/log -name ‘*.log’</td><td align="left">tar cv –files-from=-</td></tr><tr><td align="left">dd if=/dev/hda of=/dev/fd0 bs=512 count=1</td><td align="left">做一个将 MBR (Master Boot Record)内容复制到软盘的动作</td></tr><tr><td align="left">dd if=/dev/fd0 of=/dev/hda bs=512 count=1</td><td align="left">从已经保存到软盘的备份中恢复MBR内容</td></tr></tbody></table><p><a name="Wo9bd"></a></p><h3 id="23-光盘"><a href="#23-光盘" class="headerlink" title="23.光盘"></a>23.光盘</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">cdrecord -v gracetime=2 dev=/dev/cdrom -eject blank=fast -force</td><td align="left">清空一个可复写的光盘内容</td></tr><tr><td align="left">mkisofs /dev/cdrom &gt; cd.iso</td><td align="left">在磁盘上创建一个光盘的iso镜像文件</td></tr><tr><td align="left">mkisofs /dev/cdrom</td><td align="left">gzip &gt; cd_iso.gz</td></tr><tr><td align="left">mkisofs -J -allow-leading-dots -R -V “Label CD” -iso-level 4 -o ./cd.iso data_cd</td><td align="left">创建一个目录的iso镜像文件</td></tr><tr><td align="left">cdrecord -v dev=/dev/cdrom cd.iso</td><td align="left">刻录一个ISO镜像文件</td></tr><tr><td align="left">gzip -dc cd_iso.gz &#124; cdrecord dev=/dev/cdrom -</td><td align="left">刻录一个压缩了的ISO镜像文件</td></tr><tr><td align="left">mount -o loop cd.iso /mnt/iso</td><td align="left">挂载一个ISO镜像文件</td></tr><tr><td align="left">cd-paranoia -B</td><td align="left">从一个CD光盘转录音轨到 wav 文件中</td></tr><tr><td align="left">cd-paranoia – “-3”</td><td align="left">从一个CD光盘转录音轨到 wav 文件中（参数-3）</td></tr><tr><td align="left">cdrecord –scanbus</td><td align="left">扫描总线以识别scsi通道</td></tr><tr><td align="left">dd if=/dev/hdc &#124; md5sum</td><td align="left">校验一个设备的md5sum编码，例如一张 CD</td></tr></tbody></table><p><a name="a0i72"></a></p><h3 id="24-网络-（以太网和WIFI无线）"><a href="#24-网络-（以太网和WIFI无线）" class="headerlink" title="24.网络 - （以太网和WIFI无线）"></a>24.网络 - （以太网和WIFI无线）</h3><table><thead><tr><th align="left">命令</th><th align="left"></th></tr></thead><tbody><tr><td align="left">ifconfig eth0</td><td align="left">显示一个以太网卡的配置</td></tr><tr><td align="left">ifup eth0</td><td align="left">启用一个 ‘eth0’ 网络设备</td></tr><tr><td align="left">ifdown eth0</td><td align="left">禁用一个 ‘eth0’ 网络设备</td></tr><tr><td align="left">ifconfig eth0 192.168.1.1 netmask 255.255.255.0</td><td align="left">控制IP地址</td></tr><tr><td align="left">ifconfig eth0 promisc</td><td align="left">设置 ‘eth0’ 成混杂模式以嗅探数据包 (sniffing)</td></tr><tr><td align="left">dhclient eth0</td><td align="left">以dhcp模式启用 ‘eth0’</td></tr><tr><td align="left">route -n</td><td align="left">show routing table</td></tr><tr><td align="left">route add -net 0/0 gw IP_Gateway</td><td align="left">configure default gateway</td></tr><tr><td align="left">route add -net 192.168.0.0 netmask 255.255.0.0 gw 192.168.1.1</td><td align="left">configure static route to reach network ‘192.168.0.0/16’</td></tr><tr><td align="left">route del 0/0 gw IP_gateway</td><td align="left">remove static route</td></tr><tr><td align="left">echo “1” &gt; /proc/sys/net/ipv4/ip_forward</td><td align="left">activate ip routing</td></tr><tr><td align="left">hostname</td><td align="left">show hostname of system</td></tr><tr><td align="left">host <a target="_blank" rel="noopener" href="http://www.example.com/">www.example.com</a></td><td align="left">lookup hostname to resolve name to ip address and viceversa(1)</td></tr><tr><td align="left">nslookup <a target="_blank" rel="noopener" href="http://www.example.com/">www.example.com</a></td><td align="left">lookup hostname to resolve name to ip address and viceversa(2)</td></tr><tr><td align="left">ip link show</td><td align="left">show link status of all interfaces</td></tr><tr><td align="left">mii-tool eth0</td><td align="left">show link status of ‘eth0’</td></tr><tr><td align="left">ethtool eth0</td><td align="left">show statistics of network card ‘eth0’</td></tr><tr><td align="left">netstat -tup</td><td align="left">show all active network connections and their PID</td></tr><tr><td align="left">netstat -tupl</td><td align="left">show all network services listening on the system and their PID</td></tr><tr><td align="left">tcpdump tcp port 80</td><td align="left">show all HTTP traffic</td></tr><tr><td align="left">iwlist scan</td><td align="left">show wireless networks</td></tr><tr><td align="left">iwconfig eth1</td><td align="left">show configuration of a wireless network card</td></tr><tr><td align="left">whois <a target="_blank" rel="noopener" href="http://www.example.com/">www.example.com</a></td><td align="left">lookup on Whois database</td></tr></tbody></table></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="https://preference-y.github.io/2020/09/22/Linux%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C%E5%A4%A7%E5%85%A8/" title="Linux命令操作大全" target="_blank" rel="external">https://preference-y.github.io/2020/09/22/Linux%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C%E5%A4%A7%E5%85%A8/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/Preference-y" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/blue-white.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/Preference-y" target="_blank"><span class="text-dark">Preference-y</span><small class="ml-1x">😊</small></a></h3><div>这个人很懒，但他写了个人简介。</div></div></figure></div></div></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2020/09/22/hexo%E5%8D%9A%E5%AE%A2%E7%9A%84pure%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E5%8A%A8%E6%80%81%E8%83%8C%E6%99%AF/" title="hexo博客的pure主题添加动态背景"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a></li><li class="next"><a href="/2020/09/22/SQL%E7%AC%94%E8%AE%B0/" title="SQL笔记"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li></ul><button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content donate"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><div class="donate-box"><div class="donate-head"><p>感谢您的支持，我会继续努力的!</p></div><div class="tab-content"><div role="tabpanel" class="tab-pane fade active in" id="alipay"><div class="donate-payimg"><img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p></div><div role="tabpanel" class="tab-pane fade" id="wechatpay"><div class="donate-payimg"><img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p></div></div><div class="donate-footer"><ul class="nav nav-tabs nav-justified" role="tablist"><li role="presentation" class="active"><a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a></li><li role="presentation"><a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a></li></ul></div></div></div></div></div></div></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/Preference-y" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/5519590222" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top"><i class="icon icon-weibo"></i></a></li><li><a href="https://gitee.com/ningchuanbo" target="_blank" title="Gitee" data-toggle="tooltip" data-placement="top"><i class="icon icon-gitee"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul><div class="copyright">&copy; 2020 Ning<div class="publishby">Theme by <a href="https://github.com/Preference-y" target="_blank">Preference-y </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.</div></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta=(meta="nick,mail,link").split(",").filter(function(a){return-1<GUEST.indexOf(a)});new Valine({el:"#vcomments",verify:!1,notify:!1,appId:"6EOsaRqgrEiylytnBywHyJB7-gzGzoHsz",appKey:"70S79gwnaiys1UESxRWbTTra",placeholder:"说点什么...",avatar:"mm",meta:meta,pageSize:"10",visitor:!1})</script><script type="text/javascript" color="0,0,0" opacity="0.4" zindex="-2" count="80" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script></body></html>